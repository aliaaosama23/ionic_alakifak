<ion-header class="no-border">
  <ion-toolbar class="register_toolbar">
    <ion-buttons slot="start">
      <ion-button color="primary" (click)="Back()">
        <ion-icon name="chevron-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button color="primary" routerLink="/notifications">  
        <ion-icon slot="icon-only" name="notifications-outline" color="dark"></ion-icon>
        <ion-badge color="primary" *ngIf="notificationsNumber>0"> {{notificationsNumber}} </ion-badge>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding register">
  <!-- [formGroup]="myForm" -->
  <!-- <form id="form" > -->

    <!-- <ion-row>
      <ion-col size="9"> -->
        <ion-label position="stacked"> قسيمة الخصم</ion-label>
        <ion-item class="ion-margin-bottom mycontrol"> 
          <ion-input type="text" placeholder="كود كوبون الخصم" name="DiscountCode" [(ngModel)]="DiscountCode">
          </ion-input>
        </ion-item>
        <p id="notice" *ngIf="noCouponAvailable"> لا يوجد قسيمة بهذا الكود    </p>
        <p id="notice" *ngIf="minimum_amount_notice">   أقل سعر لاستخدام هذه القسيمة الشرائية هو {{min_amount}} ر.س </p>
      <!-- </ion-col>
      <ion-col size="3"> -->
        <ion-button shape="round"  expand="full" (click)="apply()">
          تطبيق الخصم  
       </ion-button>
      <!-- </ion-col>
    </ion-row> -->
     
    <div style="height: 50px;">

    </div>

    <ion-label position="stacked"> حساب تكلفة الشحن</ion-label>


    <ion-item class="ion-margin-bottom mycontrol">   
      <ion-select interface="popover" type="text" placeholder="الدولة" (click)="selectCountry()" [(ngModel)]="Country" cancelText="إلغاء" okText="تم">
        <ion-select-option value= "SA" >المملكة العربية السعودية  </ion-select-option> 
      </ion-select>
    </ion-item>

    <ion-item class="ion-margin-bottom mycontrol">   
      <!-- <ion-input type="text" placeholder="المنطقة" [(ngModel)]="Region">
      </ion-input> -->
      <ion-select interface="popover" type="text" placeholder="المنطقة" (ionChange)="selectState()"[(ngModel)]="Region" cancelText="إلغاء" okText="تم">
        <ion-select-option [value]= "state.code" *ngFor="let state of countryStates" >
           {{state.name}}
        </ion-select-option> 
      </ion-select>
    </ion-item>

    <ion-item class="ion-margin-bottom mycontrol">   
      <ion-input type="text" placeholder="المدينة" [(ngModel)]="City">
      </ion-input>
    </ion-item>

    <ion-item class="ion-margin-bottom mycontrol">   
      <ion-input type="text" placeholder="الرمز البريدي" [(ngModel)]="PostalCode">
      </ion-input>
    </ion-item>

    <!-- <ion-button shape="round"  expand="full" (click)="shipping()">
      تحديث
    </ion-button> -->

    <div class="total" *ngIf="shipping_method_choose">

      <ion-row>
        <ion-col size="6">
          <h1> المجموع </h1>
        </ion-col>
        <ion-col size="6">
          <p  style="font-weight: bolder; color: #E9262B;font-size: 22px; ">  {{cartTotal}}  ر.س </p>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="6">
          <h1> {{shipping_title}} </h1>
        </ion-col>
        <ion-col size="6">
          <p  style="font-weight: bolder; color: #E9262B;font-size: 22px; ">  {{shipping_tax}}  ر.س </p>
        </ion-col>
      </ion-row> 

      <ion-row>
        <ion-col size="6">
          <h1> الاجمالي </h1>
        </ion-col>
        <ion-col size="6">
          <p  style="font-weight: bolder; color: #E9262B;font-size: 22px; "> {{cartTotalAfterTax}}  ر.س </p>
        </ion-col>
      </ion-row>


      <!-- <ion-row>    
        <ion-col size="6">
          <h1> المجموع</h1>
          <p id="price">  {{cartTotal}}  ر.س </p>
        </ion-col>
        <ion-col size="6">
          <h1> الاجمالي  </h1>
          <p id="price">  {{cartTotalAfterTax}}  ر.س </p>
        </ion-col>
      </ion-row> -->
    </div>

    <div class="total" *ngIf="TotalChanged">
        <ion-row>    
          <ion-col size="6">
            <h1> الاجمالي  </h1>
            <p id="price">  {{cartTotal}}  ر.س </p>
          </ion-col>
          <ion-col size="6">
            <h1> المجموع  </h1>
            <p id="price">  {{cartTotalAfterDiscount}}  ر.س </p>
          </ion-col>
        </ion-row>
    </div>

    <div class="total" *ngIf="!TotalChanged && !shipping_method_choose ">
        <h1> الاجمالي  </h1>
        <p id="price">  {{cartTotal}}  ر.س </p>
    </div>
<!-- 
    <ion-button [disabled]="!myForm.valid" shape="round"  expand="full" type="submit">
       التقدم لاتمام الطلب  
    </ion-button> -->
    <ion-button shape="round"  expand="full" (click)="GoCheckout()">
      التقدم لاتمام الطلب  
   </ion-button>
 
  <!-- </form> -->
</ion-content>
